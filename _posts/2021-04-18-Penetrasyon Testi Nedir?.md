
## Penetrasyon Testi Nedir?

Diğer bir adı sızma testi olan ve bir sistemdeki güvenlik açıkları hakkında bilgi edinebilmek ve kontrol edebilmek için sanal ortam üzerinden yapılan simülasyon saldırılarına penetrasyon testi denir. 

## Penetrasyon Testi Neden Yaptırılmalıdır?

Yapılma amacı kötü amaçlı kişiler tarafından elde edilebilecek zafiyetler hakkında kişi yada kurumların güvenliklerini sağlamaları için onları bilgi vermektir. 

## Kaç Çeşit Sızma Test Uzmanı Vardır?

Sistemin kurulumu hakkında çok az bilgisi olan veya hiç bilgisi olmayan kişiler tarafından yapılması çok daha iyi olacağından dolayı genellikle dışarıdan kişilerle çalışmalar yapılmaktadır. Bu kişiler izin alarak sisteme sızdıkları için etik bilgisayar korsanları denmektedir. Bu etik bilgisayar korsanları kimi zaman çoklu sertifikalara sahip kişiler olmakla beraber kendi araştırmaları sonucunda da bilgi edinmiş kişiler olabilir. 4 çeşit sızma test uzmanı vardır.
* Stajyer Sızma Testi Uzmanı sektörde çalışmaya başlamış kişileri tanımlamaktadır. Stajyer Test Uzmanlığı için (eğer 6 ay tecrübe yoksa), Yazılı(Teorik) Sınavda 100 üzerinden 50 puan başarılı olmak beklenmektedir.
* Kayıtlı Sızma Test Uzmanı Belgelendirme/Eğitim Kuruluşu tarafından yapılan yazılı ve uygulamalı uzmanlık sınavında başarılı olmak, 1 yıl bilgi güvenliği/bilişim alanında çalışmış olmak veya 1 yıl sızma testi yapmış olmak ve bunu belgelendirmek gibi şartları vardır.
* Sertifikalı Sızma Test Uzmanı istenilen sertifikalardan en az birine sahip olmak yada Belgelendirme/Eğitim Kuruluşu tarafından yapılacak yazılı ve uygulamalı sınavda başarılı olmak, 2 yıl bilgi güvenliği/bilişim alanında çalışmış olmak, 2 yıl sızma testi yapmış olmak ve bunu belgelendirmek, en az 1 adet ulusal veya uluslararası düzeyde makale yayınlamak veya bir zafiyet keşfinde bulunup TSE’nin zafiyet bildirim programına bildirmek gibi şartları vardır.
* Kıdemli Sızma Test Uzmanı ise belgelendirme/Eğitim Kuruluşu tarafından yapılan yazılı ve uygulamalı uzmanlık sınavında başarılı olmak, 4 yıl bilgi güvenliği alanında çalışmış olmak veya 4 yıl sızma testi yapmış olmak ve bunu belgelendirmek, en az 1 adet ulusal veya uluslararası düzeyde makale yayınlamak, bir zafiyet keşfinde bulunup Belgelendirme/Eğitim Kuruluşunun zafiyet bildirim programına bildirmek veya siber güvenlik alanında yüksek lisans yapmış olma şartı vardır.

## Pentest Yaklaşımları Nelerdir?

Pentest yaklaşımları Graybox, Whitebox, Blackbox ve Tandem olmak üzere dört yaklaşımdan oluşmaktadır. 
### Graybox Pentest 
Yapacak kişilere bazı bilgilerin verildiği yaklaşım şeklidir. Bu bilgiler ip adresleri, server versiyon bilgisi gibi yüzeysel bilgilerdir. Ulaşmaması gereken ağ altyapı sistemine ulaşmış bir kişinin neler yapabileceği ne çeşit zafiyetler bulabileceği hakkında bilgi edinmek için simüle edilmiş yaklaşımdır.  
### Whitebox Pentest 
Yapacak güvenlik uzmanlarının sistem hakkında tam bir bilgi sahibi olarak gerçekleştirdiği penetrasyon testi yaklaşımlarıdır. Bunun amacı sistem hakkında tam bir bilgisi olan kişilerinin nasıl bir yol izleyebileceklerini ortaya koyan yaklaşımdır.
### Blackbox Pentest 
Kurumunun herhangi bir bilgiyi pentest yapacak kişi veya kurumu vermediği ve kötü amaçlı kişilerin nasıl bilgi sahibi olmadan sistemlere zarar verecekler onun simüle edildiği yaklaşımlardır.
### Tandem 
Sızma testi yapılacak kuruluşun personelleri ile birlikte gerçekleştirilen yaklaşımdır. Burada personelle birlikte testler adım adım birlikte yürütülmektedir. Bu yaklaşım kendini siber güvenlik alanında geliştirmek isteyen kurum ve kuruluşların genellikle tercih ettiği bir yaklaşımdır.

![blackbox-greybox-whitebox](https://user-images.githubusercontent.com/55113204/115557416-5cd4d180-a2ba-11eb-9563-4226f7879661.png)


## Penetrasyon Testi Kapsam Formu Nedir? Ne işe yarar?

Bir sistemdeki belirli bir alanı test etmeye kapsam denmektedir. Her sızma anlaşmasının bir kapsamı veya neyin test edilip neyin test edilmemesi gerektiğine dair bazı sınırlamaları vardır. Sızma testi yapanların saldırması gereken ağlar, uygulamalar, veritabanları, hesaplar, kişiler, fiziksel güvenlik kontrolleri ve diğer varlıkların hepsine kapsam denmektedir. Kapsamın doğru olması, maksimum iş değeri elde edilmesini sağlamaktadır. Yanlış kapsamın tanımlanması yapılan testin yararlılığını ciddi anlamda zarar vermektedir. Kapsamlı bir angajman, güvenlik ekiplerinin bazı belirli öğelere odaklanması için zaman ve enerji sağlar. Kuruluşlar, kapsamı iyi belirlenmiş görevlerden en yüksek değeri elde edebilir.

## Pentest Süreçleri Nelerdir ?
Pentest süreci sisteme adım atıldıkça sistemler üzerinde saldırı aktiviteleri nelerdir sorusunun cevabıdır. Bir sızma testi sürecinde sırasıyla adımlardan bahsedelim.

*	`Bilgi Toplama`: Hedef sistem hakkında pasif & aktif yöntemler ile bilgi toplama faaliyeti gerçekleştirilir.
*	`Tarama`: Hedef sistem hakkında teknik araçlar kullanılarak genel bir tarama yapılmaktadır.Bu tarama da servislerinin versiyonları, portlarında hangi servislerinin olduğu gibi bilgiler elde edilerek güvenlik açıkları tespit edilmektedir.
*	`Erişim Kazanmak`: Bilgi toplama ve tarama aşamalarında toplanan veriler kullanılarak, hedeflenen sistemden yararlanmak için bulunan güvenlik açığının sömürülmesi ve sisteme erişim kazanmak için  gerekli araştırma ve planlama yapılır. Exploit, payload vb. hazırlanır.
*	`Erişimi Sürdürmek`: Hedef sisteme girildiğinde mümkün olduğunca çok veri elde edilerek sürekli hedefte erişimde kalmaya çalışılır.
*	`Saldırı /Penetraston /Yetki Yükseltme`: Hazırlanan payload veya exploitler doğrultusunda sisteme saldırılar, sızmalar gerçekleştirilir. Çalıştırılan exploit’in sistemdeki işlevi ve diğer sistemlere etkisi incelenir. Gereken yetki yükseltme veya benzeri hareketler gerçekleştirilir.
*	`Zafiyet Taraması`: Sistemdeki zafiyetler ortaya çıkarılır. Bulunan her bir zafiyet için tekrar bu adımlar gerçekleştirilir.
*	`İzleri Temizlemek`: Çalıştırılan exploit ve payload’ları sistemde herhangi bir değişiklik yaptıysa eskiye döndürülür ve oluşturulan kullanıcılar, dosyalar silinir. Sanki sisteme girilmemiş gibi olması sağlanır.


## Pentest Raporu Nedir? Nasıl olmalıdır?

Pentestten sonra bir rapor sunulur. Bu rapor pentest sonuçlarını en iyi şekilde açıklayacak araçtır ve iki farklı bölümden oluşan raporlama mevcuttur. Birinci bölümdeki raporlama penetrasyon testi stratejinizi iş açısından açıklayan ve risk derecelendirmesine göre sonuçları belirleyen bir yönetici özetidir. Bu bölüm kısa olmalıdır. İş ekibi neyi düzelteceğine karar verecektir ve hangi sorunlar kabul edilebilir bir risk düzeyini temsil eder. Diğeri kısım ise genel veya belirsiz ifadelerden kaçınarak, açıklayıcı ve spesifik olması gereken teknik ayrıntıdır. Teknik ekip, raporun bu bölümünü harekete geçmek ve sızma testi sırasında keşfedilen güvenlik sorunlarını düzeltmek için kullanacaktır.
*	Sızma testinde kullanılan standartlar,
*	Sızma testinde kullanılan tüm araçlar ve işlemlerin detaylı olarak raporda bahsedilmesi,
*	Sızma testi sırasında keşfedilen kritik seviye güvenlik açıklıklarının anında bildirilmesi. Bu açıklıkların detaylı olarak raporda bahsedilmesi,
*	Raporların okunabilir ve anlaşılır olması. Teknik kelimelerin detaylı olarak bölümde bahsedilmesi,
*	Sızma testi raporunda; testi gerçekleştiren sızma testi uzmanı, rapor oluşturan kişi ve kurum hakkında kısaca bilgilere yer vermek,
*	Raporun şifreli ve gizli bir şekilde iletilmesi,
*	Yöneticilere ve teknik çalışanlara özel açıklamalar veya farklı raporlar sunulması gerekmektedir.

Sıma Testi Metadolojisi Nedir ?
* Ağ Sızma Testi 
Ağ sızma testi, ağın güvenlik yanıtlarını test etmek için kasıtlı olarak kötü amaçlı teknikler kullanarak ağlar, sistemler, ana bilgisayarlar ve cihazlardaki güvenlik açıklarını belirleyen bir güvenlik hizmetidir.

![chart-new-rt-net-768x311](https://user-images.githubusercontent.com/55113204/115563684-79740800-a2c0-11eb-9761-2e8b945a38d0.png)

* Web Uygulama Sızma Testi 
Bir web penetrasyonu, son kullanıcının bir bilgisayar korsanının internetten verilere erişme, e-posta sunucularının güvenliğini bulma ve ayrıca web barındırma sitesinin ve sunucusunun ne kadar güvenli olduğunu öğrenme olasılığını bulmasına yardımcı olur.
Netsparker ve Kiuwan gibi araçlarla gibi web güvenlik açıklarınızı tarayabilirsiniz.

![Web-Application-Penetration-Testing-Steps-And-Methods](https://user-images.githubusercontent.com/55113204/115564906-95c47480-a2c1-11eb-8232-1dfbe0c06cd2.png)

* Mobil Uygulama Sızma Testi 
Mobil sızma testi, hem web uygulaması güvenlik açıkları hem de mobil cihazlara özgü güvenlik açıkları, araçları ve teknikleri hakkında bilgi gerektirir.

![mobile-pentest](https://user-images.githubusercontent.com/55113204/115566317-d07adc80-a2c2-11eb-89f0-b95b318bbbae.png)

* SCADA Sızma Testi 
Tüm ekipmanların kontrolünden üretim planlamasına, çevresel kontrolden üretim planlamasına kadar otomatik kontrol, sonuçların izlenmesi ve raporlanması dahil olmak üzere tüm her şey göz önünde bulundurulması ile testlerin yapılmasıdır.

![scada](https://user-images.githubusercontent.com/55113204/115569266-b8588c80-a2c5-11eb-8cc9-0a591b2f501a.png)

* Red Team Sızma Testi 
Red Team sızma testi, güvenlik programlarının henüz ilk aşamalarında olan ve güvenli olmayan iş süreçlerini, zayıf güvenlik ayarlarını veya bir bilgisayar korsanının kolayca yararlanabileceği diğer zayıflıkları belirlemeye çalışan kuruluşlar için uygun olan sızma testidir.

![red-team-versus-pentest](https://user-images.githubusercontent.com/55113204/115569725-2d2bc680-a2c6-11eb-8950-e860a4111a91.png)

* Sosyal Mühendislik Testi 
Pentestlerin, güvenlik duruşunu ve güvenlik açıklarının nerede olduğunu ve bunları bir siber saldırgan bakış açısıyla nasıl keşfedileceğini anlamak için bir kuruluşun çalışanları üzerindeki sosyal mühendislik taktiklerini test etmek için kullanılan bir tekniktir. 

* Servis Dışı Bırakma Testi
Saldırganın siteyi kapatma ihtimali göz önüne alınarak, planlanmış bir test sırasında sitenizin DoS saldırısına duyarlı olduğunu bulmak için yapılan pentest çalışmalarıdır.

* APT Saldırı Simülasyonu
Hedefin APT saldırılarına hazırlıklı olması için gerçek bir saldırı senaryosunu simüle ederek kuruluştaki güvenlik açıklarının belirlenmesini içerir.

![apt-simülasyonu](https://user-images.githubusercontent.com/55113204/115577302-fad19780-a2cc-11eb-99f6-93015e096667.jpg)

* Mail Gateway Güvenlik Testi 
Kampaya, gerçek kullanıcıları taklit ederek veya bilgi güncellemesi gibi mail yollayak kişileri kandıran saldırı tipine Phishing, spamlarla, kullanıcı klavyesinin bastığı her bir tuşu algılayan yazılım programı veya donanım cihazları olan keyloggerlarla veya fidye yazılımlarla elde edilebilir saldırıları tespit etmek için gerçekleştirilen güvenlik testleridir.  

* Fiziksel Sızma Testi 
Kişinin fiziksel olarak bilgi toplamaya çalıştığı güvenlik testleridir. 

* Yük & Stress Testi 
Yük durumunun üstesinden gelme kapasitesini ve bir sistemin sağlamlığını kontrol etmek için yapılan testtir. Aşağıda bu testler hakkında bilgi verilmiştir.

![Load-vs-stress](https://user-images.githubusercontent.com/55113204/115580869-2a35d380-a2d0-11eb-942e-240303847507.png)

* BDDK Uyumlu Sızma Testi
Bankalar ve finans sektörlerinde bilgi sistemleri üzerinde güvenlik açıklarını bulmaya yönelik sızma testidir.

## Sızma Testi ve Güvenlik Denetimleri İçin Başlıca Standartlar ve Bölümleri Nelerdir?
Çeşitli topluluklar, ilgili kurum ve kuruluşlar tarafından güvenlik denetim testlerinin daha sağlıklı ve tekrar edilebilir sonuçlar üretilmesi için oluşturulmuş ve genel kabul görülmüş standartlardır.
Sızma testi ve güvenlik denetimleri için başlıca standartlar şunlardır;
•	OWASP (Open Web Application Security Project) :
Bu kılavuz kurum ve kuruluşlara web uygulamalarının denetimi için; test uygulamaları, aşamaları ve kontrol listeleri gibi argüman ve programlar konusunda yardım etmek amacıyla yazılmıştır.

•	OSSTMM (The Open Source Security Testing Methodology Manual) :
OSSTMM açık kaynak bir güvenlik testi metodolojisidir. Operasyonel güvenliği önemli ölçüde arttırabilecek eyleme geçirilebilir bilgiler sunmaktadır.

•	ISSAF (Information Systems Security Assessment Framework) NIST SP800-115
Güvenlik kontrol listeleri ve bilişim güvenliği argümanlarının değerlendirme ölçeklerini sunar.

•	PTES (Penetration Testing Execution Standart) :
Açık kaynak bir proje olan Sızma Testi Yürütme Standardı 2009 yılında sızma testlerindeki konsept oluşturulması amacıyla ilk versiyonunu kamuoyuna bildirmiştir. 

•	NIST SP800-115 :
Kurum ve kuruluşlara teknik anlamda bilgi güvenliği test ve yöntemlerini planlama, yürütme, bulguları analiz stratejileri geliştirme konularında yardımcı olma misyonunu üstlenmiş bir rehberdir. Kılavuz, sızma testi ve inceleme süreçleri ve prosedürlerinin tasarlanması, uygulanması ve sürdürülmesi için pratik öneriler sunar. 

•	Fedramp (The Federal Risk and Authorization Management Program) :
Fedramp ile bulut tabanlı hizmetlerin güvenlik değerlendirilmesi ve sürekli izlenmesi için standartlaştırılmış̧ bir yaklaşım sunmaktadır. Bu rehber kuruluşlara, Sızma Testi’nin planlanması ve yürütülmesi ile ilgili bulguların analiz edilmesi ve raporlanması konusunda rehberlik sağlamaktır.

## Protokol Nedir?

Protokol belirli kurallar çerçevesinde iki veya daha fazla makinenin istenilen koşullarda iletişim halinde bulunması için ortam hazırlayan kurallar dizinidir.

## OSI Referans Modeli Nedir?
OSI referans modeli Açık Sistemler Arası Bağlantı (Open System Interconnection) demektir. Bu model belirli bir ağ sisteminde neler olup bittiği hakkında görsel bir tanımla bilgi vererek yardımcı olmak için katmanlardan faydalanmaktadır. Ağ yöneticileri veya uygulama geliştiricilerin yaptıkları çalışmaları uygun katmanlara göre tasarlamalarında kolaylık sağlamaktadır.  Yapılan çalışmaların hangi katmanda çalıştıkları hakkında bilgi sahibi olarak bir sorun ile karşılaştıklarında kolaylık ile çözüme ulaşabilirler. 
Katmanlar ve Protokoller
Toplamda 7 Katman vardır. En üst katmadan alta doğru ilerleyecek şekilde;

### 7- Application (Uygulama Katmanı): 
Burası çoğu kullanıcının gördüğü kısımdır. Derinlemesine bilgisi olmayan kişilerin bile kullanabileceği ve rahatlıkla istedikleri bilgileri elde edebilecekleri katmandır. Bilgileri doğrudan kullanıcılardan alır ve gelen verileri kullanıcıya görüntüler. Web tarayıcıları (Chrome,Firefox,Opera), HTTP, SMTP, FTP ve Telnet 7. Katmadaki iletişim örneklerinden bazılarıdır.

### 6- Presentation (Sunum Katmanı):  
Genel olarak, uygulama formatının ağ formatına veya ağ formatlamasından uygulama formatına hazırlanmasını veya çevirisini temsil eder. Yani bu katman, uygulama veya ağ için verileri sunar.  Örnek olarak ise güvenli aktarım için verilerin şifrelenmesi ve şifresinin çözülmesidir.

### 5- Session (Oturum Katmanı): 
İki cihazın birbiriyle konuşması gerektiğinde bir oturumun oluşması gereklidir bu ortamı hazırlayan katman ise oturum katmanıdır. Bu katmandaki işlevler, kurulum, koordinasyon (örneğin, bir sistem bir yanıt için ne kadar beklemelidir) ve oturumun her sonunda uygulamalar arasında sonlandırmayı içerir. Bu katman, bağlantının kurulmasından, oturumların sürdürülmesinden, kimlik doğrulamasından ve ayrıca güvenliği sağlamaktan sorumludur.

### 4- Transport (Taşıma Katmanı): 
Bu katman verilerin taşındığı katmandır. Ne kadar veri gönderilecek, hangi hızda, nereye gidecek gibi soruların cevabı bu katmanda bulunmaktadır. TCP ve UDP paketleri bu katmanda çalışmaktadır. Taşıma katmanındaki verilere Segment adı verilir . 

### 3- Network (Ağ Katmanı): 
En temel anlamıyla, bu katman, farklı yönlendiriciler üzerinden yönlendirme dahil olmak üzere paket iletmeden sorumludur. Router (yönlendirici) bu katmanda çalışır.  Aynı zamanda paket yönlendirmesini, yani mevcut yol sayısından paketi iletmek için en kısa yolun seçilmesini de sağlar. Gönderenin ve alıcının IP adresi, ağ katmanı tarafından başlığa yerleştirilir.  Ağ katmanındaki segment, Paket olarak adlandırılır .

### 2- Data Link (Veri Bağlantısı Katmanı): 
Düğümden düğüme veri aktarımı sağlar ve ayrıca fiziksel katmandan hata düzeltmesini işler. Ayrıca MAC (Media Access Control) ve LLC (Logical Link Control) katmanıda burada mevcuttur. Switchler ve bridgeler burada çalışmaktadır. Bu nedenle LAN ağlarını bu katman desteklemektedir. Bu katmanın ana işlevi, fiziksel katman üzerinden bir düğümden diğerine veri aktarımının hatasız olmasını sağlamaktır. Bir paket bir ağa ulaştığında, onu MAC adresini kullanarak Ana Makineye iletmek DLL'nin sorumluluğundadır. ARP isteği bu katmanda çalışır. 

### 1-	Physical (Fiziksel Katman): 
Sinyallerin hareket ettiği katman burasıdır. Ağ uzmanları bir ağda sorun meydana geldiğinde tüm kabloların doğru şekilde bağlandığını ve güç fişinin yönlendiriciden, anahtardan veya bilgisayardan çekilmediğini kontrol etmek için doğrudan fiziksel katmana bakarlar. verilerin bağlı iki cihaz arasında nasıl aktığını da tanımlar. Olası çeşitli iletim modları şunlardır: Tek yönlü, yarı çift yönlü ve tam çift yönlü.  farklı cihazların / düğümlerin bir ağda düzenlenme şeklini belirtir, yani veriyolu, yıldız veya ağ topolojisi. Fiziksel katman ayrıca aktarım hızını, yani saniyede gönderilen bit sayısını da tanımlar ve  bit seviyesinde senkronizasyon sağlar. Hub, Tekrarlayıcı, Modem, Kablolar Fiziksel Katmanlı cihazlardır.

Application, Presentation, Session katmanları yazılım katmanı iken Network, Data Link, Physical katmanları ise donanım katmanlarını oluşturmaktadır. Sonuç olarak şöyle bir çıktı alabiliriz.

![osi katmanı](https://user-images.githubusercontent.com/55113204/115546324-8e936b80-a2ad-11eb-8854-885e19836403.jpg)


## TCP/IP standardı ve OSI ilişkisi?

OSI modelinde tanımlanan protokollerin çoğu TCP / IP modelinde kullanılır. OSI Modeli 7 farklı katmandan oluşurken TCP / IP modeli modern platformlarda daha uzmanlaşmış ve daha gelişmiş olan sadece 4 kattan oluşmaktadır.
OSI modeli bir ağ sisteminin işlevlerini tanımlamak için kullanılan kavramsal bir çerçevedir. OSI modeli, farklı ürün ve yazılımlar arasında birlikte çalışabilirliği desteklemek için bilgi işlem işlevlerini evrensel bir kurallar ve gereksinimler kümesi olarak nitelendirir. OSI modeli 7 katmandan oluşmaktadır. Fiziksel, Veri Bağlantı, Ağ, Taşıma, Oturum, Sunum ve Uygulama. OSI modelinde taşıma katmanı, paketlerin teslimini garanti eder.
TCP / IP modeli, İnternet'in etrafında geliştirdiği standart protokollere dayanmaktadır. Ana bilgisayarların bir ağ üzerinden bağlanmasına izin veren bir iletişim protokolüdür. TCP / IP modelinde taşıma katmanı paketlerin teslimini garanti etmez. Yine de TCP / IP modeli daha güvenilirdir. TCP / IP modeli, bir bakıma OSI modelinin uygulamasıdır. TCP / IP'de protokolü değiştirmek kolay değildir. TCP / IP modeli, hem mevcut İnternet mimarisini modellemek hem de ağ üzerinden tüm aktarım biçimlerinin izlediği bir dizi kural sağlamak için kullanılır. Application, Transport, Internet, Network Access üzere 4 katmandan oluşur.


### Uygulama katmanı

TCP / IP modelinin uygulama katmanı, uygulamalara diğer katmanların hizmetlerine erişme yeteneği sağlar ve uygulamaların veri alışverişi yapmak için kullandığı protokolleri tanımlar. En çok bilinen uygulama katmanı protokolleri arasında HTTP, FTP, SMTP, Telnet, DNS, SNMP ve Yönlendirme Bilgi Protokolü (RIP) bulunur.

### Taşıma katmanı

Ana makineden ana makineye aktarım yapan katman olarak da bilinen taşıma katmanı, uygulama katmanına oturum ve veri birimi iletişim hizmetleri sağlamaktan sorumludur. Bu katmanın temel protokolleri TCP ve UDP'dir.

### İnternet Katmanı

İnternet katmanı, ana bilgisayar adresleme, paketleme ve yönlendirme işlevlerinden sorumludur. IP, Adres Çözümleme Protokolü (ARP), İnternet Kontrol Mesajı Protokolü (ICMP) ve İnternet Grup Yönetimi Protokolüdür (IGMP) ise İnternet Protokol Katmanının temel protokolleridir.

### Ağ Erişim Katmanı (Bağlantı katmanı)

Ağ erişim katmanı, TCP / IP paketlerini ağ ortamına yerleştirmekten ve ağ ortamından TCP / IP paketlerini almaktan sorumlu olan katmandır.

![tcp-ıp](https://user-images.githubusercontent.com/55113204/115597400-e6e46080-a2e1-11eb-97c0-ce71af86fe87.png)


## Address Resolution Protocol (ARP)

Bir bilgisayar sisteminde bir verinin alınıp verilmesi mantıksal adres olan IP adresi kullanılarak yapıldığı düşünülür ancak bu iletişimin sağlanmasını fiziksel adres olan MAC üzerinden yani 2. Katmanda gerçekleşir. ARP görevi mantıksal adresi yani IP fiziksel adrese yani MAC’ e çevirmektedir. ARP adres çözümleme protokolü anlamına gelmektedir. ARP bir makinenin IP adresinden MAC adresini bulur. Bir ARP isteği bir Broadcast’tir ve bir ARP yanıtı bir Unicast'tır.




## Yeni Nesil ARP Protokolü - NDP (IPv6)

IPv6, IPv4’ün tükenmesinden dolayı daha geniş bir alana sahip bir protokol olan IPv6 internetin 6. Revizyonudur. İnternet özellikli cihazların iletişim kurması için gereken benzersiz IP adreslerini sağlaması açısından IPv4'e benzer şekilde çalışır. Bununla birlikte, önemli bir farkı vardır: 128 bitlik bir IP adresi kullanır. IPv4’e göre avantajları ise daha basitleştirilmiş ve daha verimli yönlendirme sağlamaktadır. Private adres çakışmaları artık yoktur. NAT burada yoktur. Otomatik yapılandırma kolaylığı sağlamaktadır. Çok fazla noktaya broadcast yapabilme imkanı sağlamaktadır. DHCP yapılandırılması burada yoktur. Daha basit head biçimi vardır. Gizlilik desteği ve yerleşik kimlik doğrulama imkanı vermektedir. 

### NDP 
#IPv6 da komşu düğümler arasında iletişimi sağlamak ve yönetmek için Komşu Keşif Protokolüdür (Neighbor Discovery Protocol). Komşu keşif işleminde ise local (yerel) bağlantıdaki bir komşunun erişebilirliğini öğrenmek, bağlantı katmanı adresini belirlemek ve komşu cihazları izlemek için ICMP mesajlarını istenen düğümlere çok sayıda broadcast yayın yapalır. Komşu düğüm dediğimiz aynı bağlantı üzerinde bulunan IPv6 düğümleridir. NDP ile mesajlar broadcast yaparak bir düğümdeki komşunun bağlantı yerel adresini öğrenebilmektedir. Bir düğümün, kullanmak istediği bir adresin o anda kullanımda olup olmadığını belirlemesini sağlar. Bir komşunun artık erişilebilir olup olmadığını belirlemek için düğümlere yardımcı olur. Hem yönlendiriciler hem de ana bilgisayarlar için adres çözümlemesi tekrar edilebilir.  Bir paket alıcısının IP adresini yerel bağlantının ötesinde bir atlama olarak belirlemek için bir algoritma kullanır. Sonraki atlama, bir yönlendirici veya hedef düğüm olabilir. Yalnızca hedeflerin IP adresi verildiğinde, düğümlerin bir komşunun yerel bağlantı adresini belirlemesine yardımcı olur. Düğümler, yerel bağlantıdaki hedefleri yalnızca bir yönlendirici aracılığıyla erişilebilen hedeflerden ayırt etmek için önekler kullanır. Bir komşunun artık erişilebilir olup olmadığını belirlemek için düğümlere yardımcı olur. Hem yönlendiriciler hem de ana bilgisayarlar için adres çözümlemesi tekrar edilebilir.

![ARP-packet-header-on-Ethernet-IP](https://user-images.githubusercontent.com/55113204/115157632-fcb01680-a092-11eb-8432-c88c79cf78d6.png)

* Hardware Type donanım için kullanılan tiptir ve Protocol Type ise ağ katmanı için kullanılan protokoldür. 
* Hardware Address Length Ethernet için olan bayt cinsinden uzunluktur. Protocol Address Length değeri ise 4 bayttan oluşmaktadır. 
* Operation Request ise işlem türünü gösterir. 1 olması Arp isteği, 2 olması ise ARP yanıtı olarak belirtilir.
* Sender Hardware Address gönderenin donanım adresini gösterir.
* Sender Protocol Address gönderenin ne protokolü ile gittiğini gösterir katman 3 adresini verir.
* Target Hardware Address hem hedefin donanımı hakkında hemde katman 3 hakkında adreslerini etkileyen RARP isteğinde kullanılan alandır.
* Target Protocol Address yanıt katman 3 adresinden geldiği için ve donanımı taşıdığından bir ARP isteğinde kullanılır.

## ARP Çalışma Mantığı

Veri paketleri, belirli bir ana makineye yönelik bir gatewaye gelir. Gateway veya bir ağdaki verilerin bir ağdan diğerine akmasına izin veren köprü, ARP programından IP adresiyle eşleşen bir MAC adresi bulmasını ister. ARP önbelleği, her IP adresinin ve eşleşen MAC adresinin kaydını tutar. ARP önbelleği dinamiktir, ancak bir ağdaki kullanıcılar IP adreslerini ve MAC adreslerini içeren statik bir ARP tablosu da yapılandırabilir. Bir cihaz LAN'a bağlı başka bir cihaza veri göndermek için bir MAC adresi talep ettiğinde, cihaz IP-MAC adresi bağlantısının hemen tamamlanıp tamamlanmadığını görmek için ARP önbelleğini doğrular. Varsa, yeni bir istek gereksizdir. Ancak, çeviri henüz yapılmadıysa, ağ adresleri için istek gönderilir ve ARP gerçekleştirilir. 

![address-resolution-protocol-1-638](https://user-images.githubusercontent.com/55113204/115597517-04b1c580-a2e2-11eb-838c-b27984a296ad.jpg)


## ARP Paket Çeşitleri

4 çeşit ARP paketi vardır.
1-	`ARP Request`: IP adresine ait MAC adresini sorgulamak için kullanılır.
2-	`ARP Reply`: IP adresine ait MAC adresini döndürür.
3-	`RARP Request`: Belirli bir MAC Adresi için IP adresini sorgular. Ters ARP’tır. Ağ yöneticisi, ağ geçidi yönlendiricide, MAC adresini karşılık gelen IP adresine eşlemek için kullanılan bir tablo oluşturur.
4-	`RARP Reply`: Belirli MAC adresi için IP adresini cevap olarak döndürür.
Gratious ARP paketi ise ağa yeni bağlanmış bir makinenin tüm ağdaki makinelere kendini tanıtmak için kullandığı ARP paket tipine denir. Birden fazla firewall failover (yük devretme) olarak çalıştığı durumlarda sıkça kullanılmaktadır. İki firewall tek bir IP adresini koruyorsa master olan düştüğünde diğer güvenlik duvarı tüm yükü üstüne alabilmesi için ortak bakılan IP adresinin MAC adresinin artık kendisi olduğunu broadcast yapmasıyla olur. Böyle tip durumlarda Gratious ARP paketleri kullanılmaktadır. 

## Proxy ARP Nedir?
ARP İstek paketi farklı bir ağdaki bir ana bilgisayara gönderilirse, iki ağı birbirine bağlayan cihaz bu pakete yanıt verebilir. Bu işleve proxy ARP adı verilir.
Proxy ARP, herhangi bir ana bilgisayarda herhangi bir değişiklik yapılmadan ARP alt ağ geçidinde uygulanır. Proxy ARP, fiziksel ağların topolojilerini koruyabilir, böylece farklı fiziksel ağlardaki ana bilgisayarlar iletişim kurmak için aynı ağ kimliğini kullanabilir. Proxy ARP, aynı ağ bölgesinde ancak farklı fiziksel ağlarda bulunan ana bilgisayarların iletişim kurmasını sağlar. Proxy ARP, yalnızca ana bilgisayarlardaki ARP önbelleklerini etkiler ancak ağ geçidindeki ARP önbelleğini veya yönlendirme tablosunu etkilemez. Proxy ARP özelliği etkinleştirildikten sonra, geçersiz ARP girişlerinin mümkün olan en kısa sürede silinebilmesi için ana bilgisayarlardaki ARP girişlerinin eskime süresi kısaltılmalıdır. Yani kısacası;
Proxy ARP makineler aynı veri bağlantı katmanı ağında olmadıkları zaman ama aynı IP ağ aralığında olduklarında sanki aynı yerel ağdaymış gibi birbirlerine veri iletmeye çalışırlar. Ancak Routerlar MAC katmanında geçmedikleri için verileri iletemezler. Bu nedenle adresler çözümlenemez. Proxy ARP default olarak etkindir, bu nedenle yerel ağlar arasında bulunan "proxy router", broadcastin adreslendiği router gibi MAC adresiyle yanıt verir. Gönderen makine, proxy routerından MAC adresini aldığında, datagramı cevap olarak tekrar Proxy routerına götürür.

![proxy_arp](https://user-images.githubusercontent.com/55113204/115547666-3198b500-a2af-11eb-9460-bfe57c9f944d.PNG)


## Güvenlik Açısından ARP’ın Ne Gibi Bir Önemi Vardır?
ARP olmadan, bir ana bilgisayar başka bir ana bilgisayarın donanım adresini bulamaz. Adresler önbellekte yalnızca birkaç dakika kalma eğilimindedir. Yer açmak için düzenli olarak temizlenir. Bu şekilde tasarlanmasının sebebi siber saldırganlar tarafından çalınmasını ve sahteciliği önlemek amacıyla gizlilik ve güvenlik için tasarlanmıştır. Temizleme sürecinde, ağa bağlı olmayan veya açık bile olmayan bilgisayarlarla iletişim kurmaya yönelik başarısız girişimlerle ilgili her türlü veri ve kullanılmayan adresler silinir.

## ARP Protokolüne Dayalı L2 Saldırıları Nelerdir?
Man-in-the-Middle (MTM) Saldırıları
ARP, bir Ethernet ağına bağlanan tüm ağ cihazları tarafından kullanılır. Aygıtlar, yalnızca hedef aygıtın bilinen IP adresini kullanarak bir hedef aygıt için Katman 2 Ethernet adresini (MAC) bulmak için ARP'ı kullanır. ARP’ın kendisi doğası gereği güvensizdir çünkü cihazlara aldıkları yanıtlara güvenmeleri söylenir. Dolayısıyla, bir X cihazı Y cihazının MAC adresini isterse ve Z cihazı Y cihazının yerine yanıtlarsa, X cihazı Y cihazına yönelik tüm trafiği Z cihazına gönderir. Z cihazı açık bir saldırı gerçekleştirmeye çalışırsa, o zaman verileri trafikten kaydederken trafiği Y cihazına iletmesi olayına “MTM (Man in the middle )” yani ortadaki adam saldırısı denir. X ve Y cihazı iletişim halindeyken Z cihazı da ağı dinleyerek iletişim ne olduğunu öğrenebelir.

## Kablosuz Ağlarda ARP ve Çalışma Yapısı Nasıldır?
ARP, kablosuz ağda tamamen aynı şekilde çalışır. ARP mesajları layer 2’ye broadcast adresine gönderilir ve böylece aynı ağdaki tüm cihazlar tarafından işlenir.

## ARP Saldırıları Nelerdir?
ARP Spoffing
Arp Poisoning 
Man-in-the-Middle
ARP zehirlenmesi

## ARP Cache Poisoning
Arp önbellek zehirlenmesi, saldırganı iki bilgisayar arasındaki iletişimi engelleyecek konuma getirir. X Bilgisayarı, Y Bilgisayarı ile iletişim kurduğuna inanır, ancak zehirli arp tablosu nedeniyle iletişim aslında saldırganın bilgisayarına yani Z bilgisayarına gider. Burada arp tablosunun zehirlenmesinin nedeni gönderilen ARP başlıklarının değiştirilmesidir. Alıcının ARP önbelleğini zehirlemek için kaynak IP ve donanım kaynak adresi değiştirilir. Saldırgan daha sonra Bilgisayar X'e Y bilgisayarı gibiymişçesine davranarak yanıt verebilir veya paketleri amaçlanan hedefine yalnızca paket bilgileri yakalandıktan ve saldırgan tarafından daha sonra kullanılmak üzere günlüğe kaydedildikten sonra iletebilir. Aynı şekilde, Bilgisayar Y'den gelen yanıt, Bilgisayar Y'yi saldırganın bilgisayarını, X Bilgisayarı olarak düşünmesini sağlamak için Arp zehirlemesini de kullanan saldırgan tarafından yakalanabilir ve kaydedilebilir. Yani kısaca iki tarafı da taklit ediyor. Bu tür saldırı, Ortadaki Adam saldırısı olarak bilinir. Böyle bir yol, MAC adresinizi taklit etmek ve arp tablosunu zehirlemektir.

![d8f138_bf2f1cfa6c5f4314a8b5a3d9adcc5838](https://user-images.githubusercontent.com/55113204/116045481-c2d6a580-a67a-11eb-8057-c5d261f91dd4.png)

 
## ARP Spoffing
ARP Spoofing, bir diğer adıyla ARP sahtekarlığı, kötü niyetli bir kişinin yerel bir alan ağı üzerinden sahte ARP (Adres Çözümleme Protokolü) mesajları gönderdiği bir saldırı türüdür. Bu, bir saldırganın MAC adresinin ağdaki meşru bir bilgisayarın veya sunucunun IP adresiyle bağlantı kurdurulması ile sonuçlanır. Saldırganın MAC adresi gerçek bir IP adresine bağlandığında, saldırgan o IP adresi için tasarlanmış tüm verileri almaya başlayacaktır. ARP sahtekarlığı, kötü niyetli kişilerin geçiş halindeki verilere müdahale etmesini, değiştirmesini ve hatta durdurmasını sağlayabilir. ARP sahtekarlığı saldırıları yalnızca Adres Çözümleme Protokolünü kullanan yerel alan ağlarında gerçekleşebilir.

## ARP Poison Routing Nedir?
Ağ trafiğini ana bilgisayarına yönlendirmek (route etmek) için kullandığı ARP zehir yönlendirmesini içeren bir yöntemdir. Bu içindeki birden fazla aynı yayın alanındaki ana bilgisayarın IP trafiğini ele geçirerek anahtarlı bir ağı koklamasını sağlamasıdır.

### Arpspoof

Saldırgan, sahte ARP yanıtları göndermek için Arpspoof veya Driftnet gibi bir sahtekarlık aracı kullanır. 
 
![arpspoof](https://user-images.githubusercontent.com/55113204/115670061-aae8e400-a351-11eb-851b-93d7e36360f4.PNG)

 
### Nemesis
Nemesis Projesi, UNIX benzeri ve Windows sistemleri için komut satırı tabanlı, taşınabilir bir insan IP yığını olacak şekilde tasarlanmıştır. Paket protokole göre ayrılmıştır ve basit kabuk komut dosyalarından enjekte edilen paketlerin yararlı komut dosyası oluşturulmasına izin vermelidir.
Nemesis Özellikleri
•	ARP / RARP, DNS, ETHERNET, ICMP, IGMP, IP, OSPF, RIP, TCP ve UDP protokol desteği
•	UNIX benzeri sistemlerde Katman 2 veya Katman 3 enjeksiyonu
•	Windows sistemlerinde Katman 2 enjeksiyonu (yalnızca)
•	Dosyadan paket yükü
•	Dosyadan IP ve TCP seçenekleri
•	OpenBSD, Linux, Solaris, Mac OS X ve Windows 2000'de test edilmiştir

### Cain&Abel
Windows için yapılmış bir tooldur.

### Ettercap
Ettercap kullanarak host taraması yaptığımızda elde edilen veriler bize host listesini görmemizi sağlamaktadır.
![image](https://user-images.githubusercontent.com/55113204/115299445-7a455680-a167-11eb-9a7d-1a9c79b5d208.png)
Ettercap kullanarak DCHP spoofing yapabiliyoruz. 
![image](https://user-images.githubusercontent.com/55113204/115303722-a6170b00-a16c-11eb-908f-abf1a0281951.png)
![fşsşfs](https://user-images.githubusercontent.com/55113204/115631615-d4345080-a30e-11eb-862f-c4c02e660843.PNG)


## Arp Spoof Sonrası Gerçekleştirilen Saldırılar Nelerdir ?
Saldırganların MITM saldırılarında başarılı olabilmesi için, kurbanı gerçek sunucu yerine proxy sunucusuna yönlendirmesi gerekir. Bunun içinde aşağıdaki senaryolar uygulanır;
## LOCAL AREA NETWORK(Yerel Alan Ağı):
### ARP poisoning
arp poisoning ise bu datanın dinlenmesini yapan bir saldırı türüdür nasıl yapıldığına gelecek olursak saldırgan arp işlemi gerçekleştirirken istemci ve sunucunun kafasını karıştırarak dataları kendisine yönlendirir bu sayede istemci aslında sunucuya ulaşmadan önce saldırgan tarafından geçmektedir.

![didfdi4](https://user-images.githubusercontent.com/55113204/115667926-154c5500-a34f-11eb-92db-0b6ddfb8c6a7.PNG)


### MAC spoofing
Bir MAC adresini maskelemek yada değiştirme yöntemine denir. MAC adresinin maskelenme sebebi her cihazın belirli bir MAC adresi vardır ve bu kişinin kim olduğu hakkında hemen bir sonuca varılmasını sağlamaktadır. MAC spoofing ile kimlikler gizlenerek saldırganlar yasadışı işler yapabilmektedir.

![mac](https://user-images.githubusercontent.com/55113204/115617141-b3adcb80-a2f9-11eb-8f64-49070ca629d4.jpg)

### VLAN hopping
Farklı VLANlar kurarak routerlar üzerinden atlayıp geçerek iletişim kuran bunu dynamic auto, trunk mode, dynamic desirable interface konfigürasyonundayken switch gibi davranarak kendi cihazından DTP mesajları ile trunk bir bağlantıyla hedef adres ile bağlantı kurmasıdır.

![1_8ntNBhnO5cfjrilEqCiLeA](https://user-images.githubusercontent.com/55113204/115619663-d68daf00-a2fc-11eb-902d-99173d87e1b3.png)

### DNS spoofing
DNS Spoofing : Dns zehirlenmesi yada diğer adıyla DNS önbellek zehirlenmesi en basit tanımı ile bir bilgisayar saldırısıdır. Alan adı sunucusunun önbellek veritabanına eklenen verilerle yada oradaki verilerin sabote edilmesi ile birlikte sizin bilgisayarınızın yani istemcinin saldırganın belirlediği ip adresine yönlenmesi sağlanmaktadır ve bu sayede siz istediğiniz siteye giriş yaptığınızı zannederken aslında saldırganın ip adresine yönlendirilmiş olursunuz. Örnek verilecek olursa www.gazi.edu.tr adresine gitmek istiyorsunuz siz bu durumda istemcisiniz ve bu adrese istek yollarsınız. Bu istek çeşitli katmanlardan geçerek gazinin sunucusuna ulaşır. Buradaki sunucu ele geçirilmiş olsun o zaman siz ve diğer bu sunucuya ulaşmak isteyen istemciler request attıklarında bütün bu istemcileri kendi sunucularına yönlendirebilirler.

![DNS Spoofing Attack](https://user-images.githubusercontent.com/55113204/115555502-4299f400-a2b8-11eb-9e4f-a6849713b551.png)

### CAM Tavle Flooding Attack
Cisco yönlendirme kararlarını verebilmek için bir switch tarafından kullanılan bir belleği vardır. Bu bellek tablosu CAM (Content Addressable Memory)'dir. Swicth porttan öğrenilen bellek adreslerini buraya girer ve herhangi bir MAC adresi buradan sorgulanır. Eğer hedef MAC adresi bu tabloda varsa gösterilen portla bağlantı kurulur. Bir yerden sonra CAM o kadar çok MAC adresi öğrenir ki switchin CAM tablosu taşar. Bu şekilde artık tabloya kayıt yapılamaz olur ve bir sürü öğrenilememiş MAC adresleri oluşur. Bu saldırı hem ağ performansının düşmesine hatta bağlantının çökmesine sebep olabilmektedir.

![cam1](https://user-images.githubusercontent.com/55113204/115694155-45a0ed00-a369-11eb-9880-dbacdbfb0a48.png)

### STP mangling
STP bir ağ topolojisinde paketler ve cihazlar arasında iletişimin sonsuz bir döngüye girmesine engel olan bir standarttır. STP Mangling ise bu engellemeyi kaldıran ve sürekli topoloji değişim isteği yollayan saldırı türüne denir.

### Port Stealing 
Hedef sunucunun MAC adresini source adres olarak kullanması için sahte ARP çerçevesi oluşturur. Switch, hedef bilgisayarın bir saldırganın bağlı olduğu porta bağlı olduğunu sanar. Bu yüzden hedef bilgisayar için gönderilen tüm veriler saldırganın switch portuna düşer.

![port stealing](https://user-images.githubusercontent.com/55113204/115593711-86532480-a2dd-11eb-946c-2d628112ce84.jpg)

## LOCAL TO REMOTE (Uzakta Bulunan Yerel Alan Ağı):
### ARP poisoning
### DNS spoofing
### DHCPspoofing
Bir yerel ağ üzerinde sahte bir DHCP server kurup DHCP’e request yapan istemcilerin default gateway olarak kendisine ait olan DHCP cevabı vermektedir. İstemci ise gateway olarak bu sahte adresi kullanır ve yerel ağ dışındaki bir yere request yaptığı zaman paketler ilk olarak atak yapan kişinin makinesine yönlenir. Saldırgan bu paketleri gitmeleri gereken doğru adreslere kendi üzerinden gönderirken tüm paketleri izleme olanağına sahip olur. Yada fake DHCP server kuran saldırgan istemcinin gitmek istediği internet adresi yerine kendisinin istediği bir adrese yönlendirebilir. İstemci güvenliğini ve gizliliğini tehdit eden bu durumu engellemek için Cisco cihazlar üzerinde DHCP araya girme (DHCP Snooping) özelliği geliştirilmiştir.

![dhcp](https://user-images.githubusercontent.com/55113204/115792044-3c983600-a3d2-11eb-8e43-23cbd68f3877.PNG)

### ICMP redirection
Trafiği üzerine alarak yayınlanan ICMP Redirection mesajlarını saldırganlar tarafından saldırılmasıdır.

### IRDP spoofing 
Ana makinenin aktif yönlendiricilerin IP adresini keşfetmesini sağlar. Sahte networkteki IRDP routerları reklam mesajlarını alt ağdaki ana makinelere göndererek default routerın değiştirmesine sebep olmasıdır.
route mangling Saldırgan en iyi route olduğunu gatewaye sahte paketler aracılığı ile ağa duyuyarak ağdaki cihazları kandırır. Paketler istemcilere direk geçer. 
## REMOTE(Uzakta Bulunan Ağ):
### DNS poisoning
### Traffic tunneling
Bir tünel oluşturarak saldırganın kendisini ağın içine yerleştirmesini sağlayan saldırıdır.

### Route mangling

## ARP Saldırılarından Korunma Yöntemleri Nelerdir?
### ARP Zehirlenme Saldırısı Önleme 
Ağ yöneticileri, ARP sahtekarlığını tespit etmek için iki teknik kullanabilir .
1.	Pasif: Ağ trafiğini izleyerek ağ haritasındaki tutarsızlıkların bulunmasıdır. 
2.	Etkin: Sahte ARP paketlerini ağa atarak sistemdeki zayıf noktaların belirlenmesidir. Bunlar saldırganlardan önce yapılırsa olası saldırıların önüne geçilmiş olur.
Bazı yazılım geliştiriciler bu saldırıları tespit etmek için kendi yazılımlarını gerçekleştirmektedir. Yalnız bu bazı riskler oluşturur. Örneğin protokol çok sert kurallara sahip ise elde edilen yanlış veriler erişimi yavaşlatabilir yada protokol gevşek kurallara sahipse yanlış bir güvenlik yazılımı yazdığınız için saldırıların devam etmesine göz ardı edebilir.
Şifreleme yardımcı olabilir. Bir bilgisayar korsanı sisteminize girerse ve yalnızca kod çözme anahtarı olmayan bozuk metinler alırsa, hasar sınırlanır. Ancak tam koruma için tutarlı bir şekilde şifreleme uygulamanız gerekir. 
Bir VPN kullanımı, istisnai bir koruma kaynağı olabilir. Cihazlar şifreli bir tünel üzerinden bağlanır ve tüm iletişim anında şifrelenir.
## Mac Flooding Saldırısı ve Amacı Nedir ?
### Saldırı Prosedürü
Bu saldırıda, bilgisayar korsanı ilk olarak switch portlara bağlanır ve çok sayıda sahte MAC adresi aracılığıyla gerçek MAC adreslerini MAC adres tablosundan çıkararak arayüzünü taşar.
MAC adres tablosu dolduğunda, switch arıza açma moduna girer ve bir ağ hub'ı gibi davranarak bütün switch portlara tüm paketleri yayınlar.
Saldırgan ise, hassas bilgileri olan paketleri yakalamak için bir paket analizcisi kullanabilir.


## Bilgisayarlara Statik ARP Kaydı Girme Nasıl OLur ?
Statik bir ARP girişi, bir Cisco cihazından veya bir Windows iş istasyonundan yönetilebilir. Nadiren çağrılsa da, önbelleğinizden bir girdi ekleyebilir veya silebilirsiniz.

Statik ARP girdileri eklemek istemenizin bir nedeni, gün boyunca sürekli olarak birbiriyle iletişim kuran iki ana makinenizin olmasıdır; Her iki sistem için de birbirinin ARP önbelleğine statik ARP girişleri ekleyerek, ARP istekleri ve ARP yanıtları biçiminde bazı ağ ek yüklerini azaltırsınız. Statik ARP girişleri genellikle dinamik girişler gibi bir arayüze tanımlanmaz.

## Statik ARP Kayıt Korumasını Aşma Nasıl Yapılır ?
Statik ARP'ı bloke edilen hedef cihaz üzerinde ayarlayarak ARP zehirlenmesinin baypas edilmesini önlemek için, ağ geçidi gibi iletişim hedefinden üretilen cevap paketini kontrol etmek için çift yönlü zehirleme işlevi sağlanır ve statik ARP ayarı NAC üzerinden bloke edilebilir.
## Switchlerde Port Security Özelliği Nedir?
### Switchlerde Port security 
Switch port güvenliği, çerçeve bir anahtar bağlantı noktası üzerinden iletildiğinde, anahtarlar MAC adreslerini öğrenir. Switch port security kullanarak kullanıcı, öğrenilebilecek MAC adreslerinin sayısını bir bağlantı noktasına sınırlayabilir, statik MAC adresleri ayarlayabilir ve yetkisiz bir kullanıcı tarafından kullanılıyorsa bu bağlantı noktası için cezalar belirleyebilir. Kullanıcı kısıtlama, kapatma veya bağlantı noktası güvenlik komutlarını kullanabilir.
Bu modlar nelerdir;
`protect` - Bu mod,  maksimum güvenli olan moddur. İzin verene kadar bilinmeyen MAC adreslerini bırakır.
`restrict` - Bu mod, protect ile aynı işlevi gerçekleştirir. Bu özelliğin yanında, bir günlük mesajı oluşturup, sayaç değerini arttırıp ve ayrıca SNMP tuzağı gönderecektir. 
`shut down` - Bu mod, yetkisiz erişim yapılırsa bağlantı noktasını hemen kapattığı için diğer modlara kıyasla çoğunlukla tercih edilir. Ayrıca restrict gibi bir günlük mesajı oluşturup, sayaç değerini arttırıp ve ayrıca SNMP tuzağı gönderecektir. Yönetici "no shut down" komutunu uygulayana kadar bu bağlantı noktası kapalı durumda kalacaktır.
`sticky`  - Bu bir ihlal modu değildir. Kullanıcı, sticky komutu kullanarak, mutlak Mac adresini yazmadan statik Mac adresi güvenliği sağlar. Örneğin, kullanıcı maksimum 3 kişi sınırı sağlarsa, bu bağlantı noktasında öğrenilen ilk 3 Mac adresi çalışan konfigürasyona yerleştirilecektir.  4. kullanıcı erişmek isterse, uygulanan ihlal moduna göre uygun işlem yapılacaktır.
`NOT` - port security, yalnızca erişim bağlantı noktasında çalışacaktır, yani bağlantı noktası güvenliğini etkinleştirmek için, kullanıcının önce onu bir erişim bağlantı noktası yapması gerekir.

## Switchlerde DHCP Snooping Özelliği Nedir ?
Switchlerdeki DHCP istemcilerine IP adres sunan yetkisiz DHCP sunucularını önlemeyen, DHCP trafiğini düşüren, yetenekli bir switchin işletim sistemine dahil edilmiş bir layer2 güvenlik teknolojisidir.


## 802.1x Kullanımı Nasıldır ?
Bir LAN veya WLAN'a bağlanmaya çalışan cihazlar, bir kimlik doğrulama mekanizması gerektirir. Bağlantı Noktası Tabanlı Ağ Erişim Kontrolü (PNAC) için bir IEEE Standardı olan IEEE 802.1X, güvenli ağ erişimi için korumalı kimlik doğrulama sağlar.
802.1X ağı, RADIUS Sunucusu adı verilen bir kimlik doğrulama sunucusuna sahiptir. Kuruluşun aktif bir kullanıcısı olup olmadıklarını görmek için bir kullanıcının kimlik bilgilerini kontrol eder ve ağ politikalarına bağlı olarak, kullanıcılara ağa çeşitli düzeylerde erişim izni verir. Bu, benzersiz kimlik bilgilerinin veya sertifikaların kullanıcı başına kullanılmasına izin vererek, kolayca çalınabilen tek bir ağ parolasına güvenmeyi ortadan kaldırır.

## 802.1X nasıl çalışır?

Kullanıcının kimliği, RADIUS sunucusu tarafından onaylanan kimlik bilgilerine veya sertifikasına göre belirlenir. RADIUS sunucusu bunu kuruluşun diziniyle, tipik olarak LDAP veya SAML protokolü üzerinden iletişim kurarak yapabilir.

## Snort nedir?
Snort, IP ağlarında gerçek zamanlı trafik analizi ve paket kaydı yapabilen açık kaynaklı bir ağ saldırı önleme sistemidir. Protokol analizi, içerik arama / eşleştirme gerçekleştirebilir ve arabellek taşmaları, gizli bağlantı noktası taramaları, CGI saldırıları, SMB araştırmaları, işletim sistemi parmak izi girişimleri ve çok daha fazlası gibi çeşitli saldırıları ve araştırmaları tespit etmek için kullanılabilir.

## IDS/IPS Nedir?
Bir  Saldırı Önleme Sistemi  (IPS) ağı inceler, ağ trafiğindeki güvenlik açıklarını tespit eder ve önleyen güvenlik açığı teknolojisidir. Güvenlik açığı istismarları, genellikle saldırganların bir uygulamayı veya makineyi kesintiye uğratmak ve denetimini ele geçirmek için kullandıkları hedef uygulama veya hizmete kötü amaçlı girdiler şeklinde gelir. Bu girdilerden başarılı bir sonuç alırsa, saldırgan hedef uygulamayı devre dışı bırakabilir yeni bir  hizmet reddi  durumuna neden olabilir veya tehlikeye atılan uygulamanın tüm haklarına ve izinlerine potansiyel olarak erişebilir. 
İstatistiksel anormallik algılama özelliği ile ağ trafiğinin örneklerini rastgele alır ve bunları önceden hesaplanmış bir temel performans düzeyiyle karşılaştırır. Ağ trafiği etkinliği örneği, olması gerekenden farklı olduğunda, IPS durumu ele almak için harekete geçer.
Tespit etme özelliği IPS, açıkları bulmak için bir dizi algılama yöntemine sahiptir, ancak imza tabanlı algılama ve istatistiksel anormallik tabanlı algılama iki baskın mekanizmadır.
İmza tabanlı algılama özellipi, her bir istismarın kodundaki benzersiz şekilde tanımlanabilen modellerin veya imzaların durumuna dayanır. Bir istismar keşfedildiğinde, imzası kaydedilir ve sürekli büyüyen bir imzalar sözlüğünde saklanır. IPS için imza algılama iki türe ayrılır:
1. İstismara açık imzalar, bireysel istismarlardır. IPS, trafik akışında istismara yönelik bir imza ile bir eşleşme bularak belirli istismarları belirleyebilir.
2. Güvenlik açığıyla karşılaşan imzalar, hedeflenen sistemdeki temelde yatan güvenlik açığını hedefleyen daha geniş imzalardır. 
Önleme özelliği,IPS genellikle doğrudan güvenlik duvarının arkasında bulunur ve tehlikeli içeriği olumsuz olarak seçen tamamlayıcı bir analiz katmanı sağlar. Özellikleri ise bağlanrının sıfırlanmasını sağlar. Kötü amaçlı paketleri düşürür. Yöneticiye alarm gönderir ayrıca bu özellik IDS’te de var. Source adresten genel trafiği engeller.
Hat içi bir güvenlik bileşeni olarak IPS, ağ performansının düşmesini önlemek için verimli bir şekilde çalışmalıdır. Ayrıca hızlı çalışmalıdır çünkü istismarlar neredeyse gerçek zamanlı olarak gerçekleşebilir. IPS ayrıca tehditleri ve yanlış paketleri ortadan kaldırmak için doğru şekilde algılamalı ve yanıt vermelidir.

## Saldırı tespit sistemi (IDS) nedir?
Herhangi bir kötü amaçlı trafik veya ihlal genellikle bir yöneticiye bildirilir veya bir güvenlik bilgileri ve olay yönetimi (SIEM) sistemi kullanılarak merkezi olarak toplanır. İzinsiz giriş tespit sistemi (IDS), kötü niyetli etkinlik ve politika ihlallerine karşı bir ağı veya sistemi izleyen bir cihaz veya yazılım uygulamasıdır. 

![Intrusion-Detection-IDS-VS-Intrusion-Prevention-IPS-What’s-The-Difference](https://user-images.githubusercontent.com/55113204/115600105-f87b3780-a2e4-11eb-9332-303e68490ac2.png)

## Saldırı tespit sistemi (IDS) nasıl çalışır?
IDS'nin izinsiz girişleri izlemek için kullandığı üç yaygın algılama çeşidi vardır: 
1.	`İmza tabanlı algılama`:  Ağ trafiğindeki bayt dizileri gibi belirli kalıpları arayarak veya bilinen kötü amaçlı talimat dizileri, imzaları kullanarak saldırıları tespit eder. Bu imzalar antivirüs yazılımdan kaynaklanır.
2.	`Anormallik tabanlı algılama`:  Sistem etkinliğini izleyerek ve bunu normal veya anormal olarak sınıflandırarak hem ağ hem de bilgisayar saldırılarını ve kötüye kullanımı tespit etmek için bir saldırı tespit sistemidir.
3.	`İtibar temelli tespit`:   İtibar puanlarına göre  olası  siber tehditleri tanımaktadır.

## İnternet Protokolü v4 Nedir?
IPv4 paket anahtarlamalı ağları yönlendiren standardın dördüncü sürümüdür . IPv4, 32 bit adres alanı sınırlamalarına rağmen protokolün en yaygın kullanılan sürümüdür. 4,3 milyardan biraz daha az mevcut benzersiz adreslemesine rağmen, mevcut adres sayısı hızla tükenmeye başlamıştır.
## IPv4 Başlık Bilgisi Nedir?
Bir Layer3 protokolü olan OSI, veri Segmentlerini Taşıma katmanı olan Layer4'ten alır ve paketlere böler. IP paketi, yukarıdaki katmandan alınan veri birimini kapsüller ve kendi başlık bilgisine ekler.

![image](https://user-images.githubusercontent.com/55113204/115158100-3bdf6700-a095-11eb-9a94-b85102cb214f.png)

Kapsüllenmiş veriler, IP Yükü olarak adlandırılır. IP başlığı, paketi diğer uçta teslim etmek için gerekli tüm bilgileri içerir.

![image](https://user-images.githubusercontent.com/55113204/115158105-41d54800-a095-11eb-9016-cc8d44634d12.png)

IP başlığı, bu bağlamda 4 olan Sürüm Numarası dahil olmak üzere birçok ilgili bilgiyi içerir. Diğer ayrıntılar aşağıdaki gibidir -
•	Versiyon - Kullanılan İnternet Protokolü (IPv4).
•	IHL - Tüm IP başlığının uzunluğu.
•	DSCP - Hizmet Türüdür.
•	ECN - Rotada görülen tıkanıklık hakkında bilgi taşır.
•	Total Length - IP başlığı ve IP yükü dahil olmak üzere tüm IP paketinin uzunluğudur.
•	Identification - IP paketi iletim sırasında parçalanırsa, ait oldukları orijinal IP paketini tanımlamak için tüm parçalar aynı kimlik numarasını içerir. 
•	Flags - IP paketi işlenemeyecek kadar büyükse, bu flagslar parçalanmış olup olmadıklarını söyler. Bu 3 bitlik bayrakta, MSB her zaman '0' olarak ayarlanır.
•	Fragment Offset - Bu offset, fragmanın orijinal IP Paketindeki tam konumunu söyler.
•	Time to Live - Ağda döngüden kaçınmak için, her paket, ağa bu paketin kaç yönlendiricinin (atlamanın) geçebileceğini söyleyen bazı TTL değer kümesiyle gönderilir. Her sekmede, değeri bir azaltılır ve değer sıfıra ulaştığında paket atılır.
•	Protocol - Bu paketin ait olduğu Protokoldür.
•	Header Checksum - Bu alan, daha sonra paketin hatasız alınıp alınmadığını kontrol etmek için kullanılan tüm başlığın sağlama toplamı değerini tutmak için kullanılır.
•	Source Address – Paketi gönderen kaynağın 32 bit adresi.
•	Destination Address -Hedefinin 32 bit adresi.
•	Options - Bu, IHL'nin değeri 5'ten büyükse kullanılan isteğe bağlı bir alandır. Bu seçenekler, Güvenlik, Kayıt Rotası, Zaman Damgası vb. Seçenekler için değerler içerebilir.

## IPV4 ve IPv6  Farkları Nelerdir?
IPv4, 32 bit adres kullanır, IPv6 ise  128 adres kullanır yani IPv6'nın IPv4'ten 1.028 kat daha fazla adres sunduğu anlamına gelir, bu da adreslerin tükenmesi sorununu çözmektedir.
IPv6 alfasayısal bir adrestir, IPv4 ise yalnızca sayısaldır ve noktalarla ayrılmıştır.
•	IPv4 - 192.168.18.13
•	IPv6 - 1232:0786:0200:0000:0000:aa70:1080:9862
IPv4 ile IPv6 arasında bazı teknik farklılıklar da vardır, ancak geliştirici olmayanların gerçekten bunları bilmesine gerek yoktur. En önemli teknik farklılıklardan bazıları şunlardır:
•	IPv6, QoS (Yerleşik Hizmet Kalitesini)  içerir.
•	IPv6, yerleşik bir ağ güvenlik katmanına (IPsec) sahiptir.
•	IPv6, NAT yoktur ve IP katmanında uçtan uca bağlantıya izin verir.
•	Broadcast, IPv4'te isteğe bağlıyken, IPv6'daki temel özelliklerin bir parçasıdır. 
•	IPv6, IPv4'ün yaklaşık iki katı büyüklüğünde paket başlıklarına sahiptir.

 
## IP Adresi ve Çeşitleri Nelerdir ?
•	Public,
•	Private,
•	Static
•	Dynamic.
### Public IP Adresleri
Public IP adresinde, bağlı cihazların her biri aynı IP adresine sahiptir. Bu tür bir genel IP adresi, routera ISS'niz tarafından sağlanır.
### Private IP Adresleri
Private bir IP adresi, evinizde kullanılan bilgisayarlar, tabletler, akıllı telefonlar, her tür Bluetooth cihazları gibi makineleri içeren ev internet ağınıza bağlanan her cihaza atanan benzersiz bir IP numarasıdır.
### Dinamik IP Adresi:
Dinamik IP adresleri her zaman değişmeye devam eder. Geçicidir ve web'e her bağlandığında bir cihaza atanır. Belirli bir süre aktiftir. Dinamik IP'ler, birçok bilgisayar arasında paylaşılan IP adresleri de denebilir.
### Statik IP Adresleri
Statik IP adresi, değiştirilemeyen bir IP adresidir. Ancak rutin ağ yönetiminin bir parçası olarak değiştirilebilir. Statik IP adresleri tutarlıdır ve bir kez atanır ve yıllar boyunca aynı kalır. Bu tür bir IP, bir cihaz hakkında birçok bilgi edinmenize de yardımcı olur.
## NAT Kavramı Nedir Nasıl Çalışır ?
İnternetin kullanımın yaygınlaşmasından dolayı mevcut IP adresleri yeterli gelmemektedir. Bu problemi çözmek için NAT kavramı devreye girmektedir. NAT, Router gibi genel veya özel ağ arasında bir aracı görevi görmesine izin verir. Yani bu bir ağdaki tüm bilgisayar grubu için yalnızca tek ve benzersiz IP adresinin gerekli olduğunu anlamına gelmektedir. Yani NAT bir resepsiyonist görevini yapmaktadır. Farklı ağlardaki kişilerle istenilen şartlar doğrultusunda iletişimi sağlar. 
`Statik NAT`: Bir cihaza ağın dışından erişilmesi istendiğinde kullanılır. Kayıtlı olmayan bir IP adresini kayıtlı olan bir IP adresine eşler.
`Dinamik NAT`: Kayıtlı olmayan bir IP adresini bir grup kayıtlı IP adresi arasından kayıtlı bir IP adresine eşler.
`Overloading (Aşırı yükleme)`: Birden çok kayıtsız IP’leri tek bir kayıtlı IP’ye atayan bir dinamik NAT türüdür. Bu aynı zamanda PAT (Bağlantı noktası Adres Çevirisi) veya çoğullamalı NAT olarakta bilinir. 
Aşırı yüklemede, özel ağdaki her bilgisayar aynı IP adresine ama farklı bağlantı noktası numarası atamasına çevirir.

•	`Örtüşen` - Dahili ağınızda kullanılan IP adresleri başka bir ağda kullanımda olan kayıtlı IP adresleri olduğunda, yönlendiricinin bu adresleri yakalayabilmesi ve kayıtlı benzersiz IP adresleriyle değiştirebilmesi için bu adreslerin bir arama tablosu tutması gerekir. NAT yönlendiricisinin "dahili" adresleri kayıtlı benzersiz adreslere çevirmesi ve "harici" kayıtlı adresleri özel ağa özgü adreslere çevirmesi gerektiğine dikkat etmek önemlidir. Bu, statik NAT aracılığıyla veya DNS kullanılarak ve dinamik NAT uygulanarak yapılabilir.

Dahili IP aralığı (237.16.32.xx) ayrıca başka bir ağ tarafından kullanılan kayıtlı bir aralıktır. Bu nedenle, yönlendirici başka bir ağ ile olası bir çakışmayı önlemek için adresleri çevirmektedir. Ayrıca, bilgiler dahili ağa gönderildiğinde kayıtlı global IP adreslerini kayıtsız yerel IP adreslerine geri çevirecektir.

## IP Adres Tespiti  ve sahibinin bulunması nasıl yapılır?
+ "Whois", temel olarak "X kimdir" sorusunu yanıtlayan bir hizmettir; burada X, bir IP adresi, bir alan adı ve diğer birkaç şeydir.
+ Ters DNS, bazı durumlarda ters DNS öğretici olabilir.
DNS,"kali.org” gibi bir alan adının bir IP adresine eşlenmesidir. Ters DNS, adından da anlaşılacağı gibi, tersini yapar: Bir IP adresi verildiğinde, birincil olarak tanımlayıcı atanmış alan adını bulur1
+ IP paylaşımı, özellikle web sunucuları ve web barındırma söz konusu olduğunda, aynı IP adresinde ve sunucuda başka hangi alanların barındırılabileceğini görmek bazen öğretici olabilir.
Bu arama için https://webhosting.info/whois kullanacağız.
+ nslookup <ip-address> Yerel Alan Ağının kendi Doman İsim Sunucusu kurulumu varsa, bu da işe yarayacaktır.

## IP Spoofing Nedir?
Bu, bilgisayarınıza kötü amaçlı yazılım bulaştırmayı, hassas verilerinizi çalmayı ve sunucunuzu çökertmeyi içerir. Bir saldırgan bunu, bilgisayarınıza, cihazınıza veya ağınıza erişmek için güvenilir bir kaynak olarak göstermek için başka bir bilgisayarın IP adresini kullanarak yapabilir.
## IP sahtekarlığı nasıl çalışır?
IP sahtekarlığı saldırganın bir paket başlığının kaynak IP adresini sahte veya sahte bir IP adresiyle değiştirmesiyle yani hedefine göndermeden önce bir IP paketini yakalayıp değiştirerek yapar. Bu sistemde sanki güvenilir bir kaynaktan IP gelmiş gibi görünür. Böyle yaparak saldırgan kendi kimliğini gizlemiş olur. Böylelikle firewalllarda aşılabilir. IP adresini taklit ederek, gerçekte bir siber suçluyla etkileşim halindeyken, yakın bir arkadaş gibi güvenilir bir web sitesi veya kişiyle etkileşime girdiğinizi düşünmeniz için sizi kandırabilir. Böylelikle saldırgan kendi kimliğini güvenlik uzamanlarından saklayabilir. Hedef cihaz ve ağlar güvenliklerinin ihlal edildiğinin her zaman farkında değildir, bu nedenle herhangi bir uyarı gönderemezler. Ve güvenilir kaynaklardan gelmiş gibi göründüklerinden, güvenlik duvarlarını ve aksi takdirde onları kötü amaçlı bir kaynak olarak kara listeye alabilecek diğer güvenlik kontrollerini atlayabilirler.

![IP-Spoofing-Infographic1](https://user-images.githubusercontent.com/55113204/115599316-21e79380-a2e4-11eb-851f-7a4a6b5a188e.jpg)

## IP Spoofing Mantığı Nedir?
Örnek verecek olursak, planın nasıl geliştiğini gösteren bir IP sahtekarlığı saldırılarının gerçek dünyadan bir örneği var. 2018'de GitHub olarak bilinen bir kod barındırma platformunun başına gelenler.
GitHub, GitHub'ın IP adresini aldatarak ve birkaç sunucuya veri göndererek gerçekleştirilen büyük bir DDoS saldırısıyla vuruldu. Bu sunucular daha sonra GitHub'a geri dönen veriyi 50 kat artırdı. Bu artan trafik aşırıya kaçtı ve sonunda GitHub'ın web sitesini 10 dakika süreyle kapattı.

## IP Parçalama (Fagmentation) Nedir ? Ne için kulllanılır ? Saldırılardaki yeri ve önemi ?
IP parçalama saldırıları, failin datagram parçalama mekanizmalarını kullanarak bir ağa aşırı yüklendiği yaygın bir hizmet reddi saldırısı biçimidir  .
IP datagramlarının küçük paketlere bölündüğü, bir ağ üzerinden iletildiği ve ardından orijinal datagrama yeniden birleştirildiği bir iletişim prosedürü olan IP parçalama sürecinine fagmentation denir.
Veri aktarımı için parçalama gereklidir, çünkü her ağın işleyebileceği verikatarlarının boyutu için benzersiz bir sınır vardır. Bu sınır, maksimum iletim birimi (MTU) olarak bilinir. Alıcı sunucunun MTU'sundan daha büyük bir datagram gönderiliyorsa, tamamen iletilebilmesi için parçalanması gerekir.

![800px-IPv4_Fragmentation_example_-en svg](https://user-images.githubusercontent.com/55113204/115599451-50fe0500-a2e4-11eb-9b40-5f75bd346d8b.png)


## Saldırı türleri
IP parçalama saldırıları birkaç şekilde olabilir. Hepsi, hedef ağları aşmak için datagramların dökümünden yararlanırken, farklı saldırı vektörlerinin nasıl yürütüldüğü konusunda bazı önemli farklılıklar vardır.
•	UDP ve ICMP parçalama saldırıları  - Bu saldırılar, ağın MTU'sundan (genellikle ~ 1500 bayt) daha büyük olan sahte UDP veya ICMP paketlerinin iletimini içerir. Bu paketler sahte olduğundan ve yeniden birleştirilemediğinden, hedef sunucunun kaynakları hızla tüketilir ve bu da sunucunun kullanılamamasına neden olur.
•	TCP parçalanma saldırıları (diğer adıyla Teardrop)  - Gözyaşı saldırıları olarak da bilinen bu saldırılar, TCP / IP yeniden birleştirme mekanizmalarını hedef alarak parçalanmış veri paketlerini bir araya getirmelerini engeller. Sonuç olarak, veri paketleri üst üste gelir ve kurbanın sunucularını hızlı bir şekilde ezip başarısız olmasına neden olur. 
## Imperva DDoS Korumasının IP Parçalama 
Her verikatarındaki IP başlığı, parçalanmanın gerçekleşmesine izin verilip verilmediğini detaylandıran bayraklar içerir. IP başlığına bir "parçalama" bayrağının eklendiği durumlarda, paket bırakılır ve sunucu, ICMP datagramının iletilemeyecek kadar büyük olduğunu belirten bir mesaj gönderir. Offset, alıcı cihaza parçaların yeniden montaj için yerleştirilmesi gereken tam sırayı açıklar.

## Parçalanma Nasıl Önlenir?
IP parçalanmasını önlemek için, ağ üzerinden gönderilecek IP paketlerinin boyutunu belirlemeniz gerekir. Genel olarak kullanılan iki yaklaşım vardır; yol MTU keşfi ve maksimum segment boyutunu (MSS) ayarlama.
Yol MTU Keşfi - Bu teknik, paket parçalanmasını önlemek için MTU uçtan uca tanımlamak için kullanılır. Parçalama (DF) bit ayarı açıkken istenen hedefe bir internet kontrol mesajı protokolü (ICMP) paketi gönderir. Parçalanma gerektiren bir ağa gönderildiğinde, Layer3 cihazı paketi atacak ve parçalanmayı önlemek için gereken MTU (maksimum iletim) değerini içeren bir ICMP mesajını geri gönderecektir. Paket daha sonra bu MTU değerinde yeniden gönderilecek ve parçalanmayacaktır. Güvenlik duvarlarında ve paket filtreleme cihazlarında ICMP engellenirse bu yöntem işe yaramaz.
Maksimum Segment Boyutunu (MSS) Ayarla - TCP trafiği için MSS'yi ayarlayarak, cihazlar gelen TCP senkronizasyon / başlatma (SYN) paketlerini inceleyecek ve parçalanma gerektirmeyen bir MTU değeri ayarlayacaktır. Gereksiz parçalanmayı önlemek için ideal MSS ayarınız MTU'nuzdan daha az olacaktır, ancak çok küçük olursa performans sorunlarıyla karşılaşırsınız. Veri aktarım verimliliği için ağ performansını değerlendirmek için MSS değerini de kullanabilirsiniz.

**¯\\\_(ツ)\_/¯**
